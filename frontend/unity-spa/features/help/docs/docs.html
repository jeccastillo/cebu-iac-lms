<div class="space-y-6">
  <h1 class="text-2xl font-semibold">Help / Documentation</h1>

  <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
    <!-- Sidebar: Categories and Pages -->
    <div class="md:col-span-1">
      <div class="bg-white border rounded p-3">
        <div class="text-xs uppercase text-gray-500 mb-2">Categories</div>
        <ul class="space-y-2">
          <li ng-repeat="cat in vm.categories">
            <div class="font-semibold text-gray-800">{{cat.label}}</div>
            <ul class="ml-3 mt-1 space-y-1">
              <li ng-repeat="p in cat.pages">
                <a ng-href="{{ vm.pageHref(cat.key, p.key) }}"
                   ng-class="{
                     'text-blue-700 font-semibold': vm.isActive(cat.key, p.key),
                     'text-gray-700 hover:text-blue-600': !vm.isActive(cat.key, p.key),
                     'opacity-50 cursor-not-allowed': !vm.canView(p)
                   }"
                   ng-click="$event.preventDefault(); vm.select(cat.key, p.key)"
                   class="text-sm block">
                  {{p.label}}
                  <span ng-if="!vm.canView(p)" class="ml-1 text-xs text-gray-400">(no access)</span>
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <!-- Content -->
    <div class="md:col-span-3">
      <div class="bg-white border rounded p-4 min-h-[400px]">
        <div ng-if="vm.loading" class="text-gray-600">
          <i class="fas fa-spinner fa-spin"></i> Loading documentation...
        </div>

        <div ng-if="vm.error && !vm.loading" class="text-red-700 bg-red-50 border border-red-200 rounded p-3">
          {{vm.error}}
        </div>

        <div ng-if="!vm.error && !vm.loading" class="prose prose-sm max-w-none">
          <div ng-bind-html="vm.safeHtmlTrusted"></div>
        </div>
      </div>
    </div>
  </div>
</div>
